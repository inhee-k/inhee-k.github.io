<div class="blog-wrapper">
  <div class="search-container">
    <input type="text" id="search-input" placeholder="search.." class="search-bar">
    <div class="find-icon">
      <i class="fa fa-search" aria-hidden="true"></i>
    </div>
    <ul id="results-container"></ul>
  </div>
  <div class="posts">
      {% for post in paginator.posts %}
      <a aria-label="{{ post.title }}" class="post-link post-teaser" href="{{ post.url | relative_url }}">
          {% if post.thumbnail %}
          <div class="post-img">
              <img alt="{{ post.title }}" src="{{ post.thumbnail | relative_url }}">
          </div>
          {% endif %}
          <span>
            <header>
              <h1> {{ post.title }} </h1>
              {% include post_info.html date=post.date %}
            </header>
            {% if site.excerpt or site.theme_settings.excerpt %}
                <div class="excerpt">
                    {% if site.excerpt == "truncate" %}
                       {{ post.content | strip_html | truncate: '250' | escape }}
                    {% else %}
                       {{ post.excerpt | strip_html | escape }}
                    {% endif %}
                </div>
            {% endif %}
        </span>
        <!-- Tag list -->
        {% capture tag_list %}{{ post.tags | join: "|"}}{% endcapture %}
        {% include tags_list.html tags=tag_list %}
      </a>
      {% endfor %}
  </div>

  {% include blog_nav.html %}

</div>
<section>
    <script type="text/javascript">
      $(function(){
        $('.find-icon').click(function(){
          if ($('#search-input:visible').length > 0) {
            $('#search-input').hide();
          }
          else {
            $('#search-input').val('');
            $('#search-input').css('display', 'block');
          }
          $('#results-container').hide();
        });

        $('#search-input').keyup(function(){
          if($(this).val().length == 0) {
            $('#results-container').hide();
          }
          else {
            $('#results-container').show();
          }
        });

        SimpleJekyllSearch({
          searchInput: document.getElementById('search-input'),
          resultsContainer: document.getElementById('results-container'),
          json: '{{ "/assets/data/search.json" | relative_url }}',
          searchResultTemplate: '<div class="search-title"><a href="{url}">{title}</a><div class="search-date">{date}</div></div>',
          noResultsText: '{{ site.data.language.str_no_result_found | default: "No result found" }}',
          limit: 10,
          fuzzy: false,
          exclude: []
        })
      });
    </script>
</section>
